package main

func App() (Component) {
	commands := make(chan ControlCommand, 10)
	controlState := make(chan ControlState, 10)
	controlState <- ControlState{AutoRotate: true, Speed: 1.0}

	Div(
		Class("webgpu-container"),
		TabIndex(0),
		OnKeyDown(makeKeyboardHandler(commands))
	) {
		Canvas(
			ID("webgpu-canvas"),
			Width(600),
			Height(400)
		) {
			GPUScene(NewCubeScene(0, 0))
		}
		Controls(WithCommands(commands), WithState(controlState))
	}
}
